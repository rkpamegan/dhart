<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DHART: Setting Up a Unity Project for DHART</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome-css.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DHART
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_unity_project_setup.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Setting Up a Unity Project for DHART </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md0">Before we begin</a><ul><li class="level2"><a href="#autotoc_md1">Prerequisites</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md2">Adding DHART to Editor Path</a></li>
<li class="level1"><a href="#autotoc_md3">Creating a new project</a></li>
<li class="level1"><a href="#autotoc_md4">Importing the DHART Library</a></li>
<li class="level1"><a href="#autotoc_md5">Verifying Unity can reference DHARTAPI</a></li>
<li class="level1"><a href="#autotoc_md6">Conclusion</a></li>
</ul>
</div>
<div class="textblock"><p ><a class="anchor" id="md_src_Csharp_docs_markdown_1_unity_project_setup"></a> Next Tutorial: <a class="el" href="_using_the_raytracer.html">Using The Raytracer</a> OR <a class="el" href="_generating_a_graph.html">Generating A Graph</a></p>
<h1><a class="anchor" id="autotoc_md0"></a>
Before we begin</h1>
<p >In this guide we will cover the following:</p>
<ul>
<li>Creating a new Unity project.</li>
<li>Importing <a class="el" href="namespace_d_h_a_r_t_a_p_i.html" title="Automated analysis of the built environent">DHARTAPI</a> to a Unity project.</li>
<li>Verifying that a Unity project code can reference <a class="el" href="namespace_d_h_a_r_t_a_p_i.html" title="Automated analysis of the built environent">DHARTAPI</a>.</li>
</ul>
<p ><b>IMPORTANT</b>: The current version of the project does not automatically link the C DLL within Unity. You must follow the steps in <code>Adding DHART to Editor Path</code> listed below. The following tutorials and steps will work. However, you must either add DLLs to the editor or build and run the unity project for the DLL to link correctly, otherwise you will recieve a <code>DLLNotFoundError</code>. <br  />
</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Prerequisites</h2>
<ul>
<li>An installation of <a href="https://unity3d.com/get-unity/download">Unity</a>. This tutorial has been tested with Unity 2019.3f, but should work from 2018.3 on.</li>
<li>An installation of Visual Studio with Unity integration. Instructions for installing Unity with support for Visual Studio or adding VisualStudio support to an existing installation of Unity are available <a href="https://docs.microsoft.com/en-us/visualstudio/cross-platform/getting-started-with-visual-studio-tools-for-unity?view=vs-2019">here</a>.</li>
<li>A copy of the <a class="el" href="namespace_d_h_a_r_t_a_p_i.html" title="Automated analysis of the built environent">DHARTAPI</a> release built with support for C#. The <code>bin</code> folder of the release should contain the following files:<ol type="1">
<li>embree3.dll</li>
<li>DHARTAPI.dll</li>
<li>DHARTAPICSharp.dll</li>
<li>msvcp140.dll</li>
<li>System.Buffers.dll</li>
<li>System.Memory.dll</li>
<li>System.Runtime.CompilerServices.Unsafe.dll</li>
<li>tbb.dll</li>
<li>vcomp140.dll</li>
<li>vcruntime140.dll</li>
<li>vcruntime140_1.dll</li>
</ol>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Adding DHART to Editor Path</h1>
<p >One quark of Unity is that the Editor in which much of your development happens handles DLL references differently than when you build a project. Currently, to use DHART within the Unity Editor, you must copy the DLLs listed above into the Editors installation directory.</p>
<div class="image">
<img src="editor_path.PNG" alt=""/>
<div class="caption">
Image</div></div>
    <p ><em>Figure</em> <b>0.0</b>: <em>Finding the Unity Editor Path</em></p>
<p >To find where your editor has been installed, open the Unity Hub and click on Installs. The Path to your Unity Editor version will be displayed under that version number.</p>
<div class="image">
<img src="editor_dlls.PNG" alt=""/>
<div class="caption">
Image</div></div>
    <p ><em>Figure</em> <b>0.1</b>: <em>Copying the DLLs into the Editor Folder</em></p>
<p >Open this path in a file explorer, and copy/replace the DLLs in the folder. If you are replacing any DLLs that came with Unity, it would be a <em>very</em> good idea to backup the Unity DLLs first! <em>Note</em> in the image shown, just a few of the DLLs are highlighted as an illustration, but you should copy all of them.</p>
<p >If you do not want to copy the DLLs, DHART will still work when you build and run your Unity project, but it will not be able to find the DLL in the Editor.</p>
<p >p.s. If you know how to avoid this copying of DLLs into the Editor folder please make a PR!</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Creating a new project</h1>
<div class="image">
<img src="UnityNew.PNG" alt=""/>
<div class="caption">
Image</div></div>
    <p ><em>Figure</em> <b>1.1</b>: <em>Creating a new project in the Unity Hub</em></p>
<p >To begin, open the Unity Hub then click the <em>NEW</em> button to create a new project.</p>
<div class="image">
<img src="unity_choose_project_type.png" alt=""/>
<div class="caption">
Choose Project Type</div></div>
    <p ><em>Figure</em> <b>1.2</b>: <em>The Create a Project Dialog</em></p>
<p >Select your desired project type, directory, and project name. For the sake of this tutorial, we will be using the <em>3D</em> project type and naming our project <em>DHARTAPIUnitySetup</em>, but you can name your project whatever you want. When done with this, press the <em>Create</em> button to create the project and wait while Unity imports all the necessary files.</p>
<div class="image">
<img src="blank_unity_scene.PNG" alt=""/>
<div class="caption">
Empty Unity Scene</div></div>
    <p ><em>Figure</em> <b>1.3</b>: <em>An empty Unity scene</em></p>
<p >Upon completion you should be greeted by an empty Unity scene.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Importing the DHART Library</h1>
<p >Now that we have created a blank project, we need to import the <a class="el" href="namespace_d_h_a_r_t_a_p_i.html" title="Automated analysis of the built environent">DHARTAPI</a> binaries as assets so Unity can see and interface with them.</p>
<div class="image">
<img src="bin_to_assets.png" alt=""/>
<div class="caption">
Moving the bin folder into the assets directory</div></div>
    <p ><em>Figure</em> <b>1.4</b>: <em>Dragging the <a class="el" href="namespace_d_h_a_r_t_a_p_i.html" title="Automated analysis of the built environent">DHARTAPI</a> bin folder into the Unity Project</em></p>
<p >If the <a class="el" href="namespace_d_h_a_r_t_a_p_i.html" title="Automated analysis of the built environent">DHARTAPI</a> release package is zipped, unzip the contents to another location before copying it or you will get an error when trying to import it. Once you have the files, as shown in Figure 1.4, drag the <code>bin</code> folder from the location you extracted the release to into the Unity Editor's assets window. Once you've done this, Unity should display the <em>bin</em> folder alongside the existing <em>Scenes</em> folder.</p>
<blockquote class="doxtable">
<p >&zwj;<b>NOTE</b>: If you accidentally drag the bin folder into the <em>Scenes</em> folder or anywhere else that would cause two copies of the same dll to exist at the same time, delete any duplicates before proceding. Multiple copies of the same DLL will cause conflicts and may result in Unity being unable to load it in the future steps. You'll know this has happened if you see the following error &lsquo;Multiple plugins with the same name 'DHART_API&rsquo; (found at 'Assets/Scenes/bin/DHARTAPI.dll' and 'Assets/bin/DHARTAPI.dll')...` at the bottom of the screen. </p>
</blockquote>
<p>&gt;<img src="duplicate_dll_error.png" alt="" class="inline" title="Duplicate DLL Error"/>     &gt;<img src="delete.png" alt="" class="inline" title="Delete Image"/>    </p>
<h1><a class="anchor" id="autotoc_md5"></a>
Verifying Unity can reference DHARTAPI</h1>
<p >The binaries have been added to our project as assets, but let's make sure Unity is able to reference them in code. To verify that Unity can reference the <a class="el" href="namespace_d_h_a_r_t_a_p_i.html" title="Automated analysis of the built environent">DHARTAPI</a> binaries, we're going to create a new script and look at its references. If we did everything correctly, Unity should automatically have added DHARTAPICSharp as a reference.</p>
<div class="image">
<img src="create_new_script.png" alt=""/>
<div class="caption">
Creating a new C# script</div></div>
    <p ><em>Figure</em> <b>1.5</b>: <em>Creating a new C# Script</em></p>
<p >To create a new script, right click on a blank space in the assets window, hover over <em>Create</em>, then click <em>C# Script</em>.</p>
<div class="image">
<img src="rename_script.png" alt=""/>
<div class="caption">
Don't click anything! Rename the script</div></div>
    <p ><em>Figure</em> <b>1.6</b>: <em>Renaming a new script</em></p>
<p >Looking in the assets window, you should notice a new script file next to Scenes directory titled NewBehaviourScript.cs by default, and the name of it is highlighted in blue indicatign that you can rename it. Rename the script to HFExampleScript.cs.</p>
<blockquote class="doxtable">
<p >&zwj;<b>NOTE:</b> If you didn't name the file properly you can change the name of the script by right clicking on it and clicking <em>Rename</em>. This won't change the name of the class that the script contains however, so be prepared to change that when we open it. </p>
</blockquote>
<p>&gt;<img src="walkthroughs/unity/1_project_setup" alt="" class="inline" title="/../2_raycast_at_plane/rename_dialog.png "Rename Dialog""/>    </p>
<div class="image">
<img src="double_click_on_script.png" alt=""/>
<div class="caption">
Double Click On Script</div></div>
    <p ><em>Figure</em> <b>1.7</b>: <em>HFExampleScript.cs in the assets window</em></p>
<p >Now that we have our new script, double click on it to open Visual studio.</p>
<div class="image">
<img src="visual_studio_human_factors_reference.png" alt=""/>
<div class="caption">
DHARTAPI referenced by your project</div></div>
    <p ><em>Figure</em> <b>1.8</b>: <em>Viewing the references of a project in Visual Studio</em></p>
<p >In Visual Studio, navigate to the <em>Solution Explorer</em> then expand the drop downs for your solution, Assembly-C-Sharp, and References. If everything was done correctly, you should see <a class="el" href="namespace_d_h_a_r_t_a_p_i.html" title="Automated analysis of the built environent">DHARTAPI</a> C# under the references for your project, as shown in Figure 1.8.</p>
<blockquote class="doxtable">
<p >&zwj;<b>NOTE</b>: If Mono-Develop appears instead of Visual Studio, then your installation of Unity is not set up to support Visual Studio. You can follow the above instructions from prerequisites to fix this. </p>
</blockquote>
<blockquote class="doxtable">
<p >&zwj;<b>NOTE</b>: If you renamed the file earlier, then your class's name may not match the name of the class in Figure 1.8. To fix this, just replace the class's name with <code>HFExampleScript.cs</code> on line 5.</p>
<p ><img src="walkthroughs/unity/1_project_setup" alt="" class="inline" title="/../2_raycast_at_plane/change_class_name.png "Change Class name""/>     </p>
</blockquote>
<blockquote class="doxtable">
<p >&zwj;<b>NOTE:</b> Your version of Visual Studio may use the light theme by default like pictured below. This is purely visual and will not have any impact on this tutorial. <img src="light_visual_studio.png" alt="" class="inline" title="Light Theme"/>     </p>
</blockquote>
<p>If you see <a class="el" href="namespace_d_h_a_r_t_a_p_i.html" title="Automated analysis of the built environent">DHARTAPI</a> in your project's references, then you've successfully imported the <a class="el" href="namespace_d_h_a_r_t_a_p_i.html" title="Automated analysis of the built environent">DHARTAPI</a> library and are ready to start using the <a class="el" href="namespace_d_h_a_r_t_a_p_i.html" title="Automated analysis of the built environent">DHARTAPI</a> library.</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Conclusion</h1>
<p >Below is a link to the unity project created in this tutorial.</p>
<p ><a href="Tutorial%201-%20Unity%20Project.zip">Tutorial 1: Unity Project Setup</a></p>
<p >In this tutorial, we went through the process of creating unity project and adding the dhart toolkit to the project. In the following tutorials, we will use this basis for using the modules that come with the dhart toolkit.</p>
<p >In the next tutorial: <a class="el" href="_using_the_raytracer.html">Using the Raytracer</a> we will use <a class="el" href="namespace_d_h_a_r_t_a_p_i.html" title="Automated analysis of the built environent">DHARTAPI</a> to create a plane, cast a ray at it, then get the point where the ray intersected the plane. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Aug 18 2025 12:53:57 for DHART by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
