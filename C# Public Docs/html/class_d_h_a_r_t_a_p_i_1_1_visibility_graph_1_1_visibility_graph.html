<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DHART: DHARTAPI.VisibilityGraph.VisibilityGraph Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome-css.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DHART
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">DHARTAPI.VisibilityGraph.VisibilityGraph Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Contains all methods for generating Visibility Graphs.  
 <a href="class_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ac2f5b9a059b0ba297db8098a48b2b91a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_d_h_a_r_t_a_p_i_1_1_spatial_structures_1_1_graph.html">Graph</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph.html#ac2f5b9a059b0ba297db8098a48b2b91a">GenerateAllToAll</a> (<a class="el" href="class_d_h_a_r_t_a_p_i_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a> bvh, IEnumerable&lt; <a class="el" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a> &gt; nodes, float height=1.7f, bool directed=true)</td></tr>
<tr class="memdesc:ac2f5b9a059b0ba297db8098a48b2b91a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a visibility graph from every node to every node in nodes.  <a href="class_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph.html#ac2f5b9a059b0ba297db8098a48b2b91a">More...</a><br /></td></tr>
<tr class="separator:ac2f5b9a059b0ba297db8098a48b2b91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae8c65cb810fbb1db7e314c566ee28ba"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_d_h_a_r_t_a_p_i_1_1_spatial_structures_1_1_graph.html">Graph</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph.html#aae8c65cb810fbb1db7e314c566ee28ba">GenerateGroupToGroup</a> (<a class="el" href="class_d_h_a_r_t_a_p_i_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a> bvh, IEnumerable&lt; <a class="el" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a> &gt; group_a, IEnumerable&lt; <a class="el" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a> &gt; group_b, float height=1.7f)</td></tr>
<tr class="memdesc:aae8c65cb810fbb1db7e314c566ee28ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a directed visibility graph from nodes in <code>group_a</code> to the nodes in <code>group_b.</code>  <a href="class_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph.html#aae8c65cb810fbb1db7e314c566ee28ba">More...</a><br /></td></tr>
<tr class="separator:aae8c65cb810fbb1db7e314c566ee28ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Contains all methods for generating Visibility Graphs. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ac2f5b9a059b0ba297db8098a48b2b91a" name="ac2f5b9a059b0ba297db8098a48b2b91a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2f5b9a059b0ba297db8098a48b2b91a">&#9670;&#160;</a></span>GenerateAllToAll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_d_h_a_r_t_a_p_i_1_1_spatial_structures_1_1_graph.html">Graph</a> DHARTAPI.VisibilityGraph.VisibilityGraph.GenerateAllToAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_d_h_a_r_t_a_p_i_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a>&#160;</td>
          <td class="paramname"><em>bvh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IEnumerable&lt; <a class="el" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a> &gt;&#160;</td>
          <td class="paramname"><em>nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>height</em> = <code>1.7f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>directed</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a visibility graph from every node to every node in nodes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bvh</td><td>The BVH to intersect with. </td></tr>
    <tr><td class="paramname">nodes</td><td>The nodes to use in the visibility graph. </td></tr>
    <tr><td class="paramname">height</td><td>The height to offset each node from the ground. </td></tr>
    <tr><td class="paramname">directed</td><td>if set to true generate a directed graph, otherwise generate an undirected graph.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A Graph where each node is a node in nodes, and each edge represents a clear line of sight between the parent and child node. Any nodes that clip into geometry when offset by height will not be considered for any edge connections and will always have no outgoing or incoming edges.</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>When directed is true. Edges between nodes will only be stored in the edges of the node with the lower ID. To store the edge in the edge array of both nodes use false but be warned, it will take longer to execute and take up more memory. Read the following section for more info.</dd></dl>
<dl class="section user"><dt>Directed vs Undirected </dt><dd>For the sake of this function, an undirected visibility graph describes a graph where edge is only stored in the graph for the node with the lowest ID. For example, The first node will check for edges from itself to every node in the set, node 2 will check for edges from itself to every other node except for the first node, node 3 will check every node except for the first and second. In contrast, a directed graph will check every node against every other node in the graph regardless of ID. In most cases you will want to use the undirected algorithm, as it only performs n(n+1)/2 operations vs the directed's n^2 operations.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Graphs output by this function CANNOT be modified.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_d_h_a_r_t_a_p_i_1_1_spatial_structures_1_1_graph.html#ac31c69fa2fb19842bb3daeee06d230a1" title="Summarize the edgecosts of every node in the graph.">SpatialStructures.Graph.AggregateEdgeCosts</a> for a way to easily summarize the results of a visibility graph.</dd></dl>
<dl class="section user"><dt>Example</dt><dd></dd></dl>
<div class="fragment"><div class="line">            <span class="comment">// Load the example plane and convert it to z-up</span></div>
<div class="line">            MeshInfo MI = (OBJLoader.LoadOBJ(<span class="stringliteral">&quot;ExampleModels/plane.obj&quot;</span>, CommonRotations.Yup_To_Zup));</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Construct a BVH from this mesh</span></div>
<div class="line">            <a class="code hl_class" href="class_d_h_a_r_t_a_p_i_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a> bvh = <span class="keyword">new</span> <a class="code hl_class" href="class_d_h_a_r_t_a_p_i_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a>(MI);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Define all nodes and put them into an array,</span></div>
<div class="line">            <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a> Point1 = <span class="keyword">new</span> <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a>(0, 0, 0);</div>
<div class="line">            <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a> Point2 = <span class="keyword">new</span> <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a>(0, 1, 0);</div>
<div class="line">            <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a> Point3 = <span class="keyword">new</span> <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a>(1, 0, 0);</div>
<div class="line">            <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a> Point4 = <span class="keyword">new</span> <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a>(1, 0, -4); <span class="comment">// Node 4 is beneath the plane so it should have no connections</span></div>
<div class="line">            <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a>[] nodes = { Point1, Point2, Point3, Point4 };</div>
<div class="ttc" id="aclass_d_h_a_r_t_a_p_i_1_1_ray_tracing_1_1_embree_b_v_h_html"><div class="ttname"><a href="class_d_h_a_r_t_a_p_i_1_1_ray_tracing_1_1_embree_b_v_h.html">DHARTAPI.RayTracing.EmbreeBVH</a></div><div class="ttdoc">A Bounding Volume Hierarchy for the EmbreeRaytracer.</div><div class="ttdef"><b>Definition:</b> EmbreeBVH.cs:31</div></div>
<div class="ttc" id="astruct_d_h_a_r_t_a_p_i_1_1_vector3_d_html"><div class="ttname"><a href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">DHARTAPI.Vector3D</a></div><div class="ttdoc">A three dimensional vector with built in utility functions.</div><div class="ttdef"><b>Definition:</b> CommonTypes.cs:40</div></div>
</div><!-- fragment --> <div class="fragment"><div class="line">            </div>
<div class="line">            <span class="comment">// Create a visibility from every node to every other node</span></div>
<div class="line">            <a class="code hl_class" href="class_d_h_a_r_t_a_p_i_1_1_spatial_structures_1_1_graph.html">Graph</a> G = <a class="code hl_namespace" href="namespace_d_h_a_r_t_a_p_i.html">DHARTAPI</a>.<a class="code hl_namespace" href="namespace_d_h_a_r_t_a_p_i_1_1_visibility_graph.html">VisibilityGraph</a>.<a class="code hl_class" href="class_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph.html">VisibilityGraph</a>.<a class="code hl_function" href="class_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph.html#ac2f5b9a059b0ba297db8098a48b2b91a">GenerateAllToAll</a>(bvh, nodes);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Aggregate the graph&#39;s edges to get the total distance from this node to all of its edges</span></div>
<div class="line">            var results = G.AggregateEdgeCosts(<a class="code hl_enumeration" href="namespace_d_h_a_r_t_a_p_i_1_1_spatial_structures.html#a596d2162828cb1e978b4cd89504a28ed">GraphEdgeAggregation</a>.SUM);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Print output</span></div>
<div class="line">            Debug.WriteLine(results);</div>
<div class="line"> </div>
<div class="ttc" id="aclass_d_h_a_r_t_a_p_i_1_1_spatial_structures_1_1_graph_html"><div class="ttname"><a href="class_d_h_a_r_t_a_p_i_1_1_spatial_structures_1_1_graph.html">DHARTAPI.SpatialStructures.Graph</a></div><div class="ttdoc">A graph representing connections between points in space.</div><div class="ttdef"><b>Definition:</b> Graph.cs:112</div></div>
<div class="ttc" id="aclass_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph_html"><div class="ttname"><a href="class_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph.html">DHARTAPI.VisibilityGraph.VisibilityGraph</a></div><div class="ttdoc">Contains all methods for generating Visibility Graphs.</div><div class="ttdef"><b>Definition:</b> VisibilityGraph.cs:33</div></div>
<div class="ttc" id="aclass_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph_html_ac2f5b9a059b0ba297db8098a48b2b91a"><div class="ttname"><a href="class_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph.html#ac2f5b9a059b0ba297db8098a48b2b91a">DHARTAPI.VisibilityGraph.VisibilityGraph.GenerateAllToAll</a></div><div class="ttdeci">static Graph GenerateAllToAll(EmbreeBVH bvh, IEnumerable&lt; Vector3D &gt; nodes, float height=1.7f, bool directed=true)</div><div class="ttdoc">Create a visibility graph from every node to every node in nodes.</div><div class="ttdef"><b>Definition:</b> VisibilityGraph.cs:73</div></div>
<div class="ttc" id="anamespace_d_h_a_r_t_a_p_i_1_1_spatial_structures_html_a596d2162828cb1e978b4cd89504a28ed"><div class="ttname"><a href="namespace_d_h_a_r_t_a_p_i_1_1_spatial_structures.html#a596d2162828cb1e978b4cd89504a28ed">DHARTAPI.SpatialStructures.GraphEdgeAggregation</a></div><div class="ttdeci">GraphEdgeAggregation</div><div class="ttdoc">Methods for aggregating edge costs per node from the graph.</div><div class="ttdef"><b>Definition:</b> Graph.cs:24</div></div>
<div class="ttc" id="anamespace_d_h_a_r_t_a_p_i_1_1_visibility_graph_html"><div class="ttname"><a href="namespace_d_h_a_r_t_a_p_i_1_1_visibility_graph.html">DHARTAPI.VisibilityGraph</a></div><div class="ttdoc">Evaluate visibility between a set of points.</div><div class="ttdef"><b>Definition:</b> VisibilityGraph.cs:30</div></div>
<div class="ttc" id="anamespace_d_h_a_r_t_a_p_i_html"><div class="ttname"><a href="namespace_d_h_a_r_t_a_p_i.html">DHARTAPI</a></div><div class="ttdoc">Automated analysis of the built environent</div><div class="ttdef"><b>Definition:</b> CommonTypes.cs:9</div></div>
</div><!-- fragment --><p> <code>[2, 2.414214, 2.414214, 0]</code> </p>

</div>
</div>
<a id="aae8c65cb810fbb1db7e314c566ee28ba" name="aae8c65cb810fbb1db7e314c566ee28ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae8c65cb810fbb1db7e314c566ee28ba">&#9670;&#160;</a></span>GenerateGroupToGroup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_d_h_a_r_t_a_p_i_1_1_spatial_structures_1_1_graph.html">Graph</a> DHARTAPI.VisibilityGraph.VisibilityGraph.GenerateGroupToGroup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_d_h_a_r_t_a_p_i_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a>&#160;</td>
          <td class="paramname"><em>bvh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IEnumerable&lt; <a class="el" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a> &gt;&#160;</td>
          <td class="paramname"><em>group_a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IEnumerable&lt; <a class="el" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a> &gt;&#160;</td>
          <td class="paramname"><em>group_b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>height</em> = <code>1.7f</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate a directed visibility graph from nodes in <code>group_a</code> to the nodes in <code>group_b.</code> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bvh</td><td>The geometry to use for generating the visibility graph. </td></tr>
    <tr><td class="paramname">group_a</td><td>The nodes to cast rays from. </td></tr>
    <tr><td class="paramname">group_b</td><td>The nodes to cast rays to. </td></tr>
    <tr><td class="paramname">height</td><td>The height to offset nodes from the ground.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A graph contanining the visibility graph. Since a new graph is created, all nodes will be assigned ids for access within it. First every node in group_a will be assigned ids in order, then all nodes in <code>group_b</code> will be assigned ids in order. Nodes in <code>group_a</code> will be assigned IDs before those in <code>group_b</code>. All edges will be from nodes in <code>group_a</code> to nodes in <code>group_b</code>. Any nodes that clip into geometry when offset by height will not be considered for any edge connections and will always have no outgoing or incoming edges.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>No nodes in <code>group_a</code> also exist in <code>group_b</code> and vice versa.</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Any nodes that clip into geometry when offset by <code>height</code> will not be considered for any edge connections.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph.html#ac2f5b9a059b0ba297db8098a48b2b91a" title="Create a visibility graph from every node to every node in nodes.">GenerateAllToAll</a> to generate a graph from every node to every other node.</dd></dl>
<dl class="section user"><dt>Example</dt><dd></dd></dl>
<div class="fragment"><div class="line">            <span class="comment">// Load the example plane and convert it to z-up</span></div>
<div class="line">            MeshInfo MI = (OBJLoader.LoadOBJ(<span class="stringliteral">&quot;ExampleModels/plane.obj&quot;</span>, CommonRotations.Yup_To_Zup));</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Construct a BVH from this mesh</span></div>
<div class="line">            <a class="code hl_class" href="class_d_h_a_r_t_a_p_i_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a> bvh = <span class="keyword">new</span> <a class="code hl_class" href="class_d_h_a_r_t_a_p_i_1_1_ray_tracing_1_1_embree_b_v_h.html">EmbreeBVH</a>(MI);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Define all nodes and put them into an array,</span></div>
<div class="line">            <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a> Point1 = <span class="keyword">new</span> <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a>(0, 0, 0);</div>
<div class="line">            <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a> Point2 = <span class="keyword">new</span> <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a>(0, 1, 0);</div>
<div class="line">            <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a> Point3 = <span class="keyword">new</span> <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a>(1, 0, 0);</div>
<div class="line">            <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a> Point4 = <span class="keyword">new</span> <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a>(1, 0, -4); <span class="comment">// Node 4 is beneath the plane so it should have no connections</span></div>
<div class="line">            <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a>[] nodes = { Point1, Point2, Point3, Point4 };</div>
</div><!-- fragment --> <div class="fragment"><div class="line"> </div>
<div class="line">            <span class="comment">// Define two groups of nodes</span></div>
<div class="line">            <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a>[] group_a = { Point1, Point2 };</div>
<div class="line">            <a class="code hl_struct" href="struct_d_h_a_r_t_a_p_i_1_1_vector3_d.html">Vector3D</a>[] group_b = { Point3, Point4 };</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Generate a visibility graph from group A to group B</span></div>
<div class="line">            Graph G = <a class="code hl_namespace" href="namespace_d_h_a_r_t_a_p_i.html">DHARTAPI</a>.<a class="code hl_namespace" href="namespace_d_h_a_r_t_a_p_i_1_1_visibility_graph.html">VisibilityGraph</a>.<a class="code hl_class" href="class_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph.html">VisibilityGraph</a>.<a class="code hl_function" href="class_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph.html#aae8c65cb810fbb1db7e314c566ee28ba">GenerateGroupToGroup</a>(bvh, group_a, group_b);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Print the results</span></div>
<div class="line">            var results = G.AggregateEdgeCosts(GraphEdgeAggregation.SUM);</div>
<div class="line"> </div>
<div class="line">            Debug.WriteLine(<span class="stringliteral">&quot;[{0}, {1}, {2}, {3}]&quot;</span>, results[0], results[1], results[2], results[3]);</div>
<div class="line"> </div>
<div class="ttc" id="aclass_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph_html_aae8c65cb810fbb1db7e314c566ee28ba"><div class="ttname"><a href="class_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph.html#aae8c65cb810fbb1db7e314c566ee28ba">DHARTAPI.VisibilityGraph.VisibilityGraph.GenerateGroupToGroup</a></div><div class="ttdeci">static Graph GenerateGroupToGroup(EmbreeBVH bvh, IEnumerable&lt; Vector3D &gt; group_a, IEnumerable&lt; Vector3D &gt; group_b, float height=1.7f)</div><div class="ttdoc">Generate a directed visibility graph from nodes in group_a to the nodes in group_b.</div><div class="ttdef"><b>Definition:</b> VisibilityGraph.cs:127</div></div>
</div><!-- fragment --><p ><code>1, 1.414214, 0, 0</code></p>
<p >Note how the nodes in group B have scores of 0. This is because edges are only calculated from group a to group B and by default AggredgateEdgeCosts only considers outgoing costs with it's default parameters. Since group to group graphs only store the edges for a node in one of the two nodes, you should use <code><a class="el" href="class_d_h_a_r_t_a_p_i_1_1_spatial_structures_1_1_graph.html#ac31c69fa2fb19842bb3daeee06d230a1" title="Summarize the edgecosts of every node in the graph.">Graph.AggregateEdgeCosts</a>(GraphEdgeAggregation.SUM, directed:false)</code> to get the accurate score for every node, since the edges of a visibility graph are bidirectional.</p>
<div class="fragment"><div class="line"> </div>
<div class="line">            <span class="comment">// Print the undirected results</span></div>
<div class="line">            results = G.AggregateEdgeCosts(<a class="code hl_enumeration" href="namespace_d_h_a_r_t_a_p_i_1_1_spatial_structures.html#a596d2162828cb1e978b4cd89504a28ed">GraphEdgeAggregation</a>.SUM, directed:<span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">            Debug.WriteLine(<span class="stringliteral">&quot;[{0}, {1}, {2}, {3}]&quot;</span>, results[0], results[1], results[2], results[3]);</div>
<div class="line"> </div>
</div><!-- fragment --><p ><code>[1, 1.414214, 2.414214, 0]</code></p>
<p >As you can see here, node 3 has a score of 0 since it doesn't have a clear line of sight to either of the nodes in group a. Node 2 has a score equal to that of 0 and 1 combined since it has a clear line of sight to both of them. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/Csharp/packages/visibilitygraph/src/VisibilityGraph.cs</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_d_h_a_r_t_a_p_i.html">DHARTAPI</a></li><li class="navelem"><a class="el" href="namespace_d_h_a_r_t_a_p_i_1_1_visibility_graph.html">VisibilityGraph</a></li><li class="navelem"><a class="el" href="class_d_h_a_r_t_a_p_i_1_1_visibility_graph_1_1_visibility_graph.html">VisibilityGraph</a></li>
    <li class="footer">Generated on Mon Aug 18 2025 14:30:47 for DHART by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
