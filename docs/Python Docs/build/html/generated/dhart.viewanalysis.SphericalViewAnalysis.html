<!DOCTYPE html>



<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>dhart.viewanalysis.SphericalViewAnalysis &mdash; DHART 0.0.1 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../_static/css/spc-extend.css">
    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" >
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" >
    <link rel="stylesheet" href="../_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="../_static/plot_directive.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sphinx_highlight.js"></script>
    <script type="text/javascript" src="../_static/js/copybutton.js"></script>
    <link rel="index" title="Index" href="../genindex.html" >
    <link rel="search" title="Search" href="../search.html" >
    <link rel="top" title="DHART 0.0.1 documentation" href="../index.html" >
    <link rel="up" title="dhart.viewanalysis" href="dhart.viewanalysis.html" >
    <link rel="next" title="dhart.viewanalysis.SphericalViewAnalysisAggregate" href="dhart.viewanalysis.SphericalViewAnalysisAggregate.html" >
    <link rel="prev" title="dhart.viewanalysis.ViewAnalysisDirections.delete_fp" href="dhart.viewanalysis.ViewAnalysisDirections.delete_fp.html" > 
  </head>
  <body>

  <div class="container">
    <div class="header">
    </div>
  </div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
        <li class="active"><a href="http://">Git</a></li>
	
        <li class="active"><a href="../index.html">DHART 0.0.1 documentation</a></li>
	
          <li class="active"><a href="../code.html" >Code Reference</a></li>
          <li class="active"><a href="dhart.viewanalysis.html" accesskey="U">dhart.viewanalysis</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="dhart.viewanalysis.SphericalViewAnalysisAggregate.html" title="dhart.viewanalysis.SphericalViewAnalysisAggregate"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="dhart.viewanalysis.ViewAnalysisDirections.delete_fp.html" title="dhart.viewanalysis.ViewAnalysisDirections.delete_fp"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <section id="dhart-viewanalysis-sphericalviewanalysis">
<h1>dhart.viewanalysis.SphericalViewAnalysis<a class="headerlink" href="#dhart-viewanalysis-sphericalviewanalysis" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="dhart.viewanalysis.SphericalViewAnalysis">
<span class="sig-prename descclassname"><span class="pre">dhart.viewanalysis.</span></span><span class="sig-name descname"><span class="pre">SphericalViewAnalysis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bvh</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="dhart.raytracer.EmbreeBVH.html#dhart.raytracer.EmbreeBVH" title="dhart.raytracer.embree_bvh.EmbreeBVH"><span class="pre">EmbreeBVH</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="dhart.spatialstructures.NodeList.html#dhart.spatialstructures.NodeList" title="dhart.spatialstructures.node.NodeList"><span class="pre">NodeList</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">ray_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">upward_fov</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downward_fov</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">70</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="dhart.raytracer.RayResultList.html#dhart.raytracer.RayResultList" title="dhart.raytracer.embree_raytracer.RayResultList"><span class="pre">RayResultList</span></a></span></span><a class="headerlink" href="#dhart.viewanalysis.SphericalViewAnalysis" title="Link to this definition">¶</a></dt>
<dd><p>Conduct view analysis on every node in nodes and return the result of every ray cast</p>
<p>The actual number of rays cast may be slightly more or less than the amount specified,
based on the fov limitations specified. The direction each ray was cast in can be
retrieved from the function SphericallyDistributeRays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bvh</strong> – the BVH for the geometry you’re shooting at</p></li>
<li><p><strong>nodes</strong> – A list of tuples containing x,y,z coordinates of points to analyze</p></li>
<li><p><strong>ray_count</strong> – Amount of rays to shoot, evenly distributed in a sphere around the center</p></li>
<li><p><strong>upward_fov</strong> – maximum angle up from the user’s eyelevel to be considred</p></li>
<li><p><strong>downward_fov</strong> – maximum angle down from the user’s eyelevel  to be considred</p></li>
<li><p><strong>height</strong> – height to offset nodes from the ground in meters</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of results of shape (ray_count, len(nodes))</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>RayResult</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Conducting view analysis on 2 nodes casting 10 rays.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">dhart.geometry</span><span class="w"> </span><span class="kn">import</span> <span class="n">LoadOBJ</span><span class="p">,</span> <span class="n">MeshInfo</span><span class="p">,</span> <span class="n">CommonRotations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">dhart.raytracer</span><span class="w"> </span><span class="kn">import</span> <span class="n">EmbreeBVH</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">dhart.geometry.mesh_info</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConstructPlane</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">dhart.viewanalysis</span><span class="w"> </span><span class="kn">import</span> <span class="n">SphericalViewAnalysis</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MI</span> <span class="o">=</span> <span class="n">ConstructPlane</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MI</span><span class="o">.</span><span class="n">Rotate</span><span class="p">(</span><span class="n">CommonRotations</span><span class="o">.</span><span class="n">Zup_to_Yup</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">BVH</span> <span class="o">=</span> <span class="n">EmbreeBVH</span><span class="p">(</span><span class="n">MI</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">origins</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">va</span> <span class="o">=</span> <span class="n">SphericalViewAnalysis</span><span class="p">(</span><span class="n">BVH</span><span class="p">,</span> <span class="n">origins</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">1.7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">va</span><span class="p">)</span>
<span class="go">[[(-1.      , -1) (-1.      , -1) (-1.      , -1) (-1.      , -1)</span>
<span class="go">  (-1.      , -1) ( 5.40725 ,  0) (-1.      , -1) (-1.      , -1)</span>
<span class="go">  ( 3.529445,  0) (-1.      , -1)]</span>
<span class="go"> [(-1.      , -1) (-1.      , -1) (-1.      , -1) (-1.      , -1)</span>
<span class="go">  (-1.      , -1) ( 5.40725 ,  0) (-1.      , -1) (-1.      , -1)</span>
<span class="go">  ( 3.529445,  0) (-1.      , -1)]]</span>
</pre></div>
</div>
</dd></dl>

</section>


          </div>
        </div>
          </div>
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">dhart.viewanalysis.SphericalViewAnalysis</a><ul>
<li><a class="reference internal" href="#dhart.viewanalysis.SphericalViewAnalysis"><code class="docutils literal notranslate"><span class="pre">SphericalViewAnalysis()</span></code></a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="dhart.viewanalysis.ViewAnalysisDirections.delete_fp.html"
                          title="previous chapter">dhart.viewanalysis.ViewAnalysisDirections.delete_fp</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="dhart.viewanalysis.SphericalViewAnalysisAggregate.html"
                          title="next chapter">dhart.viewanalysis.SphericalViewAnalysisAggregate</a></p>
  </div>

        </div>
      </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2020.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 8.1.3.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>