<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DHART: GraphGenerator</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome-css.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DHART
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('a00454.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">GraphGenerator</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2df84a732d1edfb70b7bd26d3282e129"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00407.html#a91fa3b2bb3a7312ec39d74cc1fbc7bbe">C_INTERFACE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00454.html#ga2df84a732d1edfb70b7bd26d3282e129">GenerateGraph</a> (<a class="el" href="a01411.html">HF::RayTracer::EmbreeRayTracer</a> *ray_tracer, const float *start_point, const float *spacing, int MaxNodes, float UpStep, float UpSlope, float DownStep, float DownSlope, int max_step_connection, int min_connections, int core_count, <a class="el" href="a01551.html">HF::SpatialStructures::Graph</a> **out_graph)</td></tr>
<tr class="memdesc:ga2df84a732d1edfb70b7bd26d3282e129"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a graph by performing a breadth-first search of accessible space.  <a href="a00454.html#ga2df84a732d1edfb70b7bd26d3282e129">More...</a><br /></td></tr>
<tr class="separator:ga2df84a732d1edfb70b7bd26d3282e129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab9f58e3ecc686fa9bc34519b0faed734"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00407.html#a91fa3b2bb3a7312ec39d74cc1fbc7bbe">C_INTERFACE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00454.html#gab9f58e3ecc686fa9bc34519b0faed734">GenerateGraphObstacles</a> (<a class="el" href="a01411.html">HF::RayTracer::EmbreeRayTracer</a> *ray_tracer, const float *start_point, const float *spacing, int MaxNodes, float UpStep, float UpSlope, float DownStep, float DownSlope, int max_step_connection, int min_connections, int core_count, const int *obstacle_ids, const int *walkable_ids, int num_obstacles, int num_walkables, <a class="el" href="a01551.html">HF::SpatialStructures::Graph</a> **out_graph)</td></tr>
<tr class="memdesc:gab9f58e3ecc686fa9bc34519b0faed734"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a graph by performing a breadth-first search of accessible space, seperating obstacles from walkable geometry.  <a href="a00454.html#gab9f58e3ecc686fa9bc34519b0faed734">More...</a><br /></td></tr>
<tr class="separator:gab9f58e3ecc686fa9bc34519b0faed734"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7f55e49ba1992471430d0e3d415ebae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00407.html#a91fa3b2bb3a7312ec39d74cc1fbc7bbe">C_INTERFACE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00454.html#gae7f55e49ba1992471430d0e3d415ebae">CalculateAndStoreStepTypes</a> (<a class="el" href="a01551.html">HF::SpatialStructures::Graph</a> *g, <a class="el" href="a01411.html">HF::RayTracer::EmbreeRayTracer</a> *ray_tracer)</td></tr>
<tr class="memdesc:gae7f55e49ba1992471430d0e3d415ebae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the graph and identify the step types of all edges, adding them to the graph.  <a href="a00454.html#gae7f55e49ba1992471430d0e3d415ebae">More...</a><br /></td></tr>
<tr class="separator:gae7f55e49ba1992471430d0e3d415ebae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Perform a breadth-first search on a mesh to find accessible space. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gae7f55e49ba1992471430d0e3d415ebae" name="gae7f55e49ba1992471430d0e3d415ebae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae7f55e49ba1992471430d0e3d415ebae">&#9670;&#160;</a></span>CalculateAndStoreStepTypes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00407.html#a91fa3b2bb3a7312ec39d74cc1fbc7bbe">C_INTERFACE</a> CalculateAndStoreStepTypes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a01551.html">HF::SpatialStructures::Graph</a> *&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a01411.html">HF::RayTracer::EmbreeRayTracer</a> *&#160;</td>
          <td class="paramname"><em>ray_tracer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="a00407.html">Cinterface/analysis_C.h</a>&gt;</code></p>

<p>Query the graph and identify the step types of all edges, adding them to the graph. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">g</td><td>Graph used to query step types.</td></tr>
    <tr><td class="paramname">ray_tracer</td><td>Raytracer containing the geometry to use for graph generation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="">HF_STATUS::OK</a> if query was successful and edges corresponding to step types have been added to the graph. </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00404_source.html#l00109">109</a> of file <a class="el" href="a00404_source.html">analysis_C.cpp</a>.</p>

<p class="reference">References <a class="el" href="a01551.html#a6f04c5320d4bf88120f8c5e31b0fb02a">HF::SpatialStructures::Graph::AddEdges()</a>, <a class="el" href="a00011_source.html#l00303">HF::GraphGenerator::CalculateStepType()</a>, <a class="el" href="a01551.html#a41cece77d0eee98df39ecc6d3a366ec8">HF::SpatialStructures::Graph::Compress()</a>, and <a class="el" href="a00176_source.html#l00032">HF::Exceptions::OK</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00454_gae7f55e49ba1992471430d0e3d415ebae_cgraph.svg" width="1170" height="278"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ga2df84a732d1edfb70b7bd26d3282e129" name="ga2df84a732d1edfb70b7bd26d3282e129"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2df84a732d1edfb70b7bd26d3282e129">&#9670;&#160;</a></span>GenerateGraph()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00407.html#a91fa3b2bb3a7312ec39d74cc1fbc7bbe">C_INTERFACE</a> GenerateGraph </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a01411.html">HF::RayTracer::EmbreeRayTracer</a> *&#160;</td>
          <td class="paramname"><em>ray_tracer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>start_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>spacing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MaxNodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>UpStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>UpSlope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>DownStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>DownSlope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_step_connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_connections</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a01551.html">HF::SpatialStructures::Graph</a> **&#160;</td>
          <td class="paramname"><em>out_graph</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="a00407.html">Cinterface/analysis_C.h</a>&gt;</code></p>

<p>Construct a graph by performing a breadth-first search of accessible space. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ray_tracer</td><td>Raytracer containing the geometry to use for graph generation.</td></tr>
    <tr><td class="paramname">start_point</td><td>The starting point for the graph generator to begin searching from. If this isn't above solid ground, no nodes will be generated.</td></tr>
    <tr><td class="paramname">spacing</td><td>Space between nodes for each step of the search. Lower values will yield more nodes for a higher resolution graph.</td></tr>
    <tr><td class="paramname">MaxNodes</td><td>Stop generation after this many nodes. A value of -1 will generate an infinite amount of nodes. Note that the final node count may be greater than this value.</td></tr>
    <tr><td class="paramname">UpStep</td><td>Maximum height of a step the graph can traverse. Any steps higher this will be considered inaccessible.</td></tr>
    <tr><td class="paramname">UpSlope</td><td>Maximum upward slope the graph can traverse in degrees. Any slopes steeper than this will be considered inaccessible.</td></tr>
    <tr><td class="paramname">DownStep</td><td>Maximum step down the graph can traverse. Any steps steeper than this will be considered inaccessible.</td></tr>
    <tr><td class="paramname">DownSlope</td><td>The maximum downward slope the graph can traverse. Any slopes steeper than this will be considered inaccessible.</td></tr>
    <tr><td class="paramname">max_step_connection</td><td>Multiplier for number of children to generate for each node. Increasing this value will increase the number of edges in the graph, and as a result the amount of memory the algorithm requires.</td></tr>
    <tr><td class="paramname">min_connections</td><td>The required out-degree for a node to be valid and stored. This must be greater than 0 and equal or less than the total connections created from max_step_connections. Default is 1. A value of 8 when max_step_connections=1 would be a grid.</td></tr>
    <tr><td class="paramname">core_count</td><td>Number of cores to use. -1 will use all available cores, and 0 or 1 will run a serialized version of the algorithm.</td></tr>
    <tr><td class="paramname">out_graph</td><td>Address of a (<a class="el" href="a01551.html">HF::SpatialStructures::Graph</a> *); out_graph will address heap-allocated memory to an initialized <a class="el" href="a01551.html">HF::SpatialStructures::Graph</a> on success.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="">HF_STATUS::OK</a> if graph creation was successful. <a class="el" href="">HF_STATUS::NO_GRAPH</a> if <a class="el" href="a00454.html#ga2df84a732d1edfb70b7bd26d3282e129">GenerateGraph</a> failed to generate a graph with more than a single node.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00457.html#raytracer_setup">Raytracer setup</a> (how to create a BVH), <a class="el" href="a00457.html#raytracer_teardown">Raytracer teardown</a> (how to destroy a BVH)</dd></dl>
<p>You must <b>load an .obj file</b> and <b>create a BVH</b> first.<br  />
 Begin by reviewing the example at <a class="el" href="a00457.html#raytracer_setup">Raytracer setup</a> before proceeding below.</p>
<p >First, determine the <b>start point</b>, <b>spacing of nodes for each axis</b>, and <b>maximum nodes to generate</b>.<br  />
 </p><div class="fragment"><div class="line">        <span class="comment">// Define start point.</span></div>
<div class="line">        <span class="comment">// These are Cartesian coordinates.</span></div>
<div class="line">        std::array&lt;float, 3&gt; start_point { -1.0f, -6.0f, 1623.976928f };</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Define spacing.</span></div>
<div class="line">        <span class="comment">// This is the spacing between nodes, with respect to each axis.</span></div>
<div class="line">        std::array&lt;float, 3&gt; spacing { 0.5f, 0.5f, 0.5f };</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set max nodes.</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> max_nodes = 500;</div>
</div><!-- fragment --><p >Then, determine the remainder of the values required by <a class="el" href="a00454.html#ga2df84a732d1edfb70b7bd26d3282e129">GenerateGraph</a> before calling it.<br  />
 </p><div class="fragment"><div class="line">        <span class="comment">// Generate graph.</span></div>
<div class="line">        <span class="comment">// Notice that we pass the address of the graph pointer into GenerateGraph.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// GenerateGraph will assign the deferenced address to a pointer that points</span></div>
<div class="line">        <span class="comment">// to memory on the free store. We will call DestroyGraph to release the memory resources later on.</span></div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">float</span> up_step = 1;                      <span class="comment">// maximum height of a step the graph can traverse</span></div>
<div class="line">        <span class="keywordtype">float</span> up_slope = 1;                     <span class="comment">// maximum upward slope the graph can traverse in degrees</span></div>
<div class="line">        <span class="keywordtype">float</span> down_step = 1;                    <span class="comment">// maximum step down that the graph can traverse</span></div>
<div class="line">        <span class="keywordtype">float</span> down_slope = 1;                   <span class="comment">// maximum downward slope that the graph can traverse</span></div>
<div class="line">        <span class="keywordtype">int</span> maximum_step_connection = 1;        <span class="comment">// multiplier for number of children to generate for each node</span></div>
<div class="line">        <span class="keywordtype">int</span> core_count = -1;                    <span class="comment">// CPU core count, -1 uses all available cores on the machine</span></div>
<div class="line"> </div>
<div class="line">        <a class="code hl_class" href="a01551.html">HF::SpatialStructures::Graph</a>* graph = <span class="keyword">nullptr</span>;</div>
<div class="line"> </div>
<div class="line">        status = <a class="code hl_function" href="a00454.html#ga2df84a732d1edfb70b7bd26d3282e129">GenerateGraph</a>(bvh,</div>
<div class="line">            start_point.data(), spacing.data(), max_nodes,</div>
<div class="line">            up_step, up_slope,</div>
<div class="line">            down_step, down_slope,</div>
<div class="line">            maximum_step_connection,</div>
<div class="line">            core_count,</div>
<div class="line">            &amp;graph);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">            <span class="comment">// Error!</span></div>
<div class="line">            std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at GenerateGraph, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="ttc" id="aa00454_html_ga2df84a732d1edfb70b7bd26d3282e129"><div class="ttname"><a href="a00454.html#ga2df84a732d1edfb70b7bd26d3282e129">GenerateGraph</a></div><div class="ttdeci">C_INTERFACE GenerateGraph(HF::RayTracer::EmbreeRayTracer *ray_tracer, const float *start_point, const float *spacing, int MaxNodes, float UpStep, float UpSlope, float DownStep, float DownSlope, int max_step_connections, int min_connections, int core_count, Graph **out_graph)</div><div class="ttdoc">Construct a graph by performing a breadth-first search of accessible space.</div><div class="ttdef"><b>Definition:</b> <a href="a00404_source.html#l00022">analysis_C.cpp:22</a></div></div>
<div class="ttc" id="aa01551_html"><div class="ttname"><a href="a01551.html">HF::SpatialStructures::Graph</a></div><div class="ttdoc">A Graph of nodes connected by edges that supports both integers and HF::SpatialStructures::Node.</div><div class="ttdef"><b>Definition:</b> <a href="a00269_source.html#l00490">graph.h:490</a></div></div>
</div><!-- fragment --><p ><b>Very important!</b> <b>Compress the graph</b> after generating a graph or adding edges.<br  />
 </p><div class="fragment"><div class="line">        <span class="comment">// Always compress the graph after generating a graph/adding new edges</span></div>
<div class="line">        status = <a class="code hl_function" href="a00458.html#gab7ecc1be5c746ed3f99ab7494316c65d">Compress</a>(graph);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">            <span class="comment">// Error!</span></div>
<div class="line">            std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at Compress, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="ttc" id="aa00458_html_gab7ecc1be5c746ed3f99ab7494316c65d"><div class="ttname"><a href="a00458.html#gab7ecc1be5c746ed3f99ab7494316c65d">Compress</a></div><div class="ttdeci">C_INTERFACE Compress(Graph *graph)</div><div class="ttdoc">Compress the given graph into a CSR representation.</div><div class="ttdef"><b>Definition:</b> <a href="a00434_source.html#l00395">spatialstructures_C.cpp:395</a></div></div>
</div><!-- fragment --><p >To output the graph to the console, we must <b>retrieve its nodes</b>.<br  />
 </p><div class="fragment"><div class="line">        <span class="comment">// Get all nodes from graph first (the container of nodes)</span></div>
<div class="line">        <span class="comment">// The address of the local variable node_vector will be passed to GetAllNodesFromGraph;</span></div>
<div class="line">        <span class="comment">// it will be dereferenced inside that function and assigned memory via operator new.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// We will have to call DestroyNodes on node_vector to properly release this memory.</span></div>
<div class="line">        <span class="comment">// node_vector_data points to the internal buffer that resides within *(node_vector).</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// When we call DestroyNodes, node_vector_data&#39;s memory will also be released.</span></div>
<div class="line">        std::vector&lt;HF::SpatialStructures::Node&gt;* node_vector = <span class="keyword">nullptr</span>;</div>
<div class="line">        <a class="code hl_struct" href="a02071.html">HF::SpatialStructures::Node</a>* node_vector_data = <span class="keyword">nullptr</span>;</div>
<div class="line"> </div>
<div class="line">        status = <a class="code hl_function" href="a00458.html#ga0cc5b82caab046c65a201e4e7be5e9d4">GetAllNodesFromGraph</a>(graph, &amp;node_vector, &amp;node_vector_data);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">            <span class="comment">// Error!</span></div>
<div class="line">            std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at GetAllNodesFromGraph, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Get size of node vector</span></div>
<div class="line">        <span class="keywordtype">int</span> node_vector_size = -1;</div>
<div class="line">        status = <a class="code hl_function" href="a00458.html#gac17c1fc05e6bf6900bac8689b7619bfb">GetSizeOfNodeVector</a>(node_vector, &amp;node_vector_size);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">            <span class="comment">// Error!</span></div>
<div class="line">            std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at GetSizeOfNodeVector, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Print number of nodes in the graph</span></div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Node count: &quot;</span> &lt;&lt; node_vector_size &lt;&lt; std::endl;</div>
<div class="ttc" id="aa00458_html_ga0cc5b82caab046c65a201e4e7be5e9d4"><div class="ttname"><a href="a00458.html#ga0cc5b82caab046c65a201e4e7be5e9d4">GetAllNodesFromGraph</a></div><div class="ttdeci">C_INTERFACE GetAllNodesFromGraph(const Graph *graph, vector&lt; Node &gt; **out_vector_ptr, Node **out_data_ptr)</div><div class="ttdoc">Get a vector of every node in the given graph pointer.</div><div class="ttdef"><b>Definition:</b> <a href="a00434_source.html#l00032">spatialstructures_C.cpp:32</a></div></div>
<div class="ttc" id="aa00458_html_gac17c1fc05e6bf6900bac8689b7619bfb"><div class="ttname"><a href="a00458.html#gac17c1fc05e6bf6900bac8689b7619bfb">GetSizeOfNodeVector</a></div><div class="ttdeci">C_INTERFACE GetSizeOfNodeVector(const std::vector&lt; HF::SpatialStructures::Node &gt; *node_list, int *out_size)</div><div class="ttdoc">Get the size of a node vector.</div><div class="ttdef"><b>Definition:</b> <a href="a00245_source.html#l00060">CInterface.cpp:60</a></div></div>
<div class="ttc" id="aa02071_html"><div class="ttname"><a href="a02071.html">HF::SpatialStructures::Node</a></div><div class="ttdoc">A point in space with an ID.</div><div class="ttdef"><b>Definition:</b> <a href="a00275_source.html#l00038">node.h:38</a></div></div>
</div><!-- fragment --><p >We are now ready to <b>output</b> the generated graph to the <b>console</b>.<br  />
 </p><div class="fragment"><div class="line">        <span class="comment">// Output 3 of the nodes within *node_vector.</span></div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span>;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; i++) {</div>
<div class="line">            <span class="keyword">auto</span> n = (*node_vector)[i];</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;(&quot;</span></div>
<div class="line">                &lt;&lt; n.x &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; n.y &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; n.z &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line">                &lt;&lt; n.id &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (i &lt; 2) {</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; std::endl;</div>
</div><!-- fragment --><p >When we are finished, we must destroy <b>node_vector</b> and <b>graph</b>.<br  />
 </p><div class="fragment"><div class="line"> </div>
<div class="line"> </div>
<div class="line">        <span class="comment">// destroy vector&lt;Node&gt;</span></div>
<div class="line">        status = <a class="code hl_function" href="a00458.html#ga87e9b9ecfc5293712d75f3cb8c992c77">DestroyNodes</a>(node_vector);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">            <span class="comment">// Error!</span></div>
<div class="line">            std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at DestroyNodes, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// destroy graph</span></div>
<div class="line">        status = <a class="code hl_function" href="a00458.html#ga645abacd11e1fa535f953344aaa77727">DestroyGraph</a>(graph);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">            std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at DestroyGraph, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="ttc" id="aa00458_html_ga645abacd11e1fa535f953344aaa77727"><div class="ttname"><a href="a00458.html#ga645abacd11e1fa535f953344aaa77727">DestroyGraph</a></div><div class="ttdeci">C_INTERFACE DestroyGraph(HF::SpatialStructures::Graph *graph_to_destroy)</div><div class="ttdoc">Delete a graph.</div><div class="ttdef"><b>Definition:</b> <a href="a00245_source.html#l00080">CInterface.cpp:80</a></div></div>
<div class="ttc" id="aa00458_html_ga87e9b9ecfc5293712d75f3cb8c992c77"><div class="ttname"><a href="a00458.html#ga87e9b9ecfc5293712d75f3cb8c992c77">DestroyNodes</a></div><div class="ttdeci">C_INTERFACE DestroyNodes(std::vector&lt; HF::SpatialStructures::Node &gt; *nodelist_to_destroy)</div><div class="ttdoc">Delete the vector of nodes at the given pointer.</div><div class="ttdef"><b>Definition:</b> <a href="a00245_source.html#l00070">CInterface.cpp:70</a></div></div>
</div><!-- fragment --><p >From here, please review the example at <a class="el" href="a00457.html#raytracer_teardown">Raytracer teardown</a> for instructions<br  />
 on how to free the remainder of the resources used by the graph &ndash;<br  />
 which are the (vector&lt;<a class="el" href="a01351.html">HF::Geometry::MeshInfo</a>&gt; *) and (<a class="el" href="">HF::Raytracer::EmbreeRayTracer</a> *) instances.</p>
<p ><br  />
 <code>&gt;&gt;&gt; LoadOBJ loaded mesh successfully into loaded_obj at address 000002468EEBBEB0, code: 1</code><br  />
<code>&gt;&gt;&gt; CreateRaytracer created EmbreeRayTracer successfully into bvh at address 00000246849C59B0, code: 1</code><br  />
<code>&gt;&gt;&gt; Node count: 594</code><br  />
<code>&gt;&gt;&gt; [(-1, -6, 0, 0) (-1.5, -6.5, -0, 1) (-1.5, -6, -0, 2)]</code><br  />
</p>

<p class="definition">Definition at line <a class="el" href="a00404_source.html#l00022">22</a> of file <a class="el" href="a00404_source.html">analysis_C.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00008_source.html#l00467">HF::GraphGenerator::GraphGenerator::BuildNetwork()</a>, <a class="el" href="a01551.html#aa70347b8a33b57c6f0a72d6eca4248d7">HF::SpatialStructures::Graph::Nodes()</a>, and <a class="el" href="a00176_source.html#l00032">HF::Exceptions::OK</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00454_ga2df84a732d1edfb70b7bd26d3282e129_cgraph.svg" width="1891" height="959"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="gab9f58e3ecc686fa9bc34519b0faed734" name="gab9f58e3ecc686fa9bc34519b0faed734"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab9f58e3ecc686fa9bc34519b0faed734">&#9670;&#160;</a></span>GenerateGraphObstacles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00407.html#a91fa3b2bb3a7312ec39d74cc1fbc7bbe">C_INTERFACE</a> GenerateGraphObstacles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a01411.html">HF::RayTracer::EmbreeRayTracer</a> *&#160;</td>
          <td class="paramname"><em>ray_tracer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>start_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>spacing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MaxNodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>UpStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>UpSlope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>DownStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>DownSlope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_step_connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_connections</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>obstacle_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>walkable_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_obstacles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_walkables</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a01551.html">HF::SpatialStructures::Graph</a> **&#160;</td>
          <td class="paramname"><em>out_graph</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="a00407.html">Cinterface/analysis_C.h</a>&gt;</code></p>

<p>Construct a graph by performing a breadth-first search of accessible space, seperating obstacles from walkable geometry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ray_tracer</td><td>Raytracer containing the geometry to use for graph generation.</td></tr>
    <tr><td class="paramname">start_point</td><td>The starting point for the graph generator to begin searching from. If this isn't above solid ground, no nodes will be generated.</td></tr>
    <tr><td class="paramname">spacing</td><td>Space between nodes for each step of the search. Lower values will yield more nodes for a higher resolution graph.</td></tr>
    <tr><td class="paramname">MaxNodes</td><td>Stop generation after this many nodes. A value of -1 will generate an infinite amount of nodes. Note that the final node count may be greater than this value.</td></tr>
    <tr><td class="paramname">UpStep</td><td>Maximum height of a step the graph can traverse. Any steps higher this will be considered inaccessible.</td></tr>
    <tr><td class="paramname">UpSlope</td><td>Maximum upward slope the graph can traverse in degrees. Any slopes steeper than this will be considered inaccessible.</td></tr>
    <tr><td class="paramname">DownStep</td><td>Maximum step down the graph can traverse. Any steps steeper than this will be considered inaccessible.</td></tr>
    <tr><td class="paramname">DownSlope</td><td>The maximum downward slope the graph can traverse. Any slopes steeper than this will be considered inaccessible.</td></tr>
    <tr><td class="paramname">max_step_connection</td><td>Multiplier for number of children to generate for each node. Increasing this value will increase the number of edges in the graph, and as a result the amount of memory the algorithm requires.</td></tr>
    <tr><td class="paramname">min_connections</td><td>The required out-degree for a node to be valid and stored. This must be greater than 0 and equal or less than the total connections created from max_step_connections. Default is 1. A value of 8 when max_step_connections=1 would be a grid.</td></tr>
    <tr><td class="paramname">core_count</td><td>Number of cores to use. -1 will use all available cores, and 0 or 1 will run a serialized version of the algorithm.</td></tr>
    <tr><td class="paramname">obstacle_ids</td><td>Array of geometry IDs to consider obstacles </td></tr>
    <tr><td class="paramname">walkable_ids</td><td>Array of geometry IDs to consider as walkable surfaces </td></tr>
    <tr><td class="paramname">num_obstacles</td><td>number of elements in <code>obstacle_ids</code> </td></tr>
    <tr><td class="paramname">num_walkables</td><td>number of elements in <code>walkable_ids</code></td></tr>
    <tr><td class="paramname">out_graph</td><td>Address of a (<a class="el" href="a01551.html">HF::SpatialStructures::Graph</a> *); out_graph will address heap-allocated memory to an initialized <a class="el" href="a01551.html">HF::SpatialStructures::Graph</a> on success.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="">HF_STATUS::OK</a> if graph creation was successful. <a class="el" href="">HF_STATUS::NO_GRAPH</a> if <a class="el" href="a00454.html#ga2df84a732d1edfb70b7bd26d3282e129">GenerateGraph</a> failed to generate a graph with more than a single node.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00457.html#raytracer_setup">Raytracer setup</a> (how to create a BVH), <a class="el" href="a00457.html#raytracer_teardown">Raytracer teardown</a> (how to destroy a BVH)</dd></dl>
<p>You must <b>load an .obj file</b> and <b>create a BVH</b> first.<br  />
 Begin by reviewing the example at <a class="el" href="a00457.html#raytracer_setup">Raytracer setup</a> before proceeding below.</p>
<p >First, determine the <b>start point</b>, <b>spacing of nodes for each axis</b>, and <b>maximum nodes to generate</b>.<br  />
 </p><div class="fragment"><div class="line">        <span class="comment">// Define start point.</span></div>
<div class="line">        <span class="comment">// These are Cartesian coordinates.</span></div>
<div class="line">        std::array&lt;float, 3&gt; start_point { -1.0f, -6.0f, 1623.976928f };</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Define spacing.</span></div>
<div class="line">        <span class="comment">// This is the spacing between nodes, with respect to each axis.</span></div>
<div class="line">        std::array&lt;float, 3&gt; spacing { 0.5f, 0.5f, 0.5f };</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set max nodes.</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> max_nodes = 500;</div>
</div><!-- fragment --><p >Then, determine the remainder of the values required by <a class="el" href="a00454.html#ga2df84a732d1edfb70b7bd26d3282e129">GenerateGraph</a> before calling it.<br  />
 </p><div class="fragment"><div class="line">        <span class="comment">// Generate graph.</span></div>
<div class="line">        <span class="comment">// Notice that we pass the address of the graph pointer into GenerateGraph.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// GenerateGraph will assign the deferenced address to a pointer that points</span></div>
<div class="line">        <span class="comment">// to memory on the free store. We will call DestroyGraph to release the memory resources later on.</span></div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">float</span> up_step = 1;                      <span class="comment">// maximum height of a step the graph can traverse</span></div>
<div class="line">        <span class="keywordtype">float</span> up_slope = 1;                     <span class="comment">// maximum upward slope the graph can traverse in degrees</span></div>
<div class="line">        <span class="keywordtype">float</span> down_step = 1;                    <span class="comment">// maximum step down that the graph can traverse</span></div>
<div class="line">        <span class="keywordtype">float</span> down_slope = 1;                   <span class="comment">// maximum downward slope that the graph can traverse</span></div>
<div class="line">        <span class="keywordtype">int</span> maximum_step_connection = 1;        <span class="comment">// multiplier for number of children to generate for each node</span></div>
<div class="line">        <span class="keywordtype">int</span> core_count = -1;                    <span class="comment">// CPU core count, -1 uses all available cores on the machine</span></div>
<div class="line"> </div>
<div class="line">        <a class="code hl_class" href="a01551.html">HF::SpatialStructures::Graph</a>* graph = <span class="keyword">nullptr</span>;</div>
<div class="line"> </div>
<div class="line">        status = <a class="code hl_function" href="a00454.html#ga2df84a732d1edfb70b7bd26d3282e129">GenerateGraph</a>(bvh,</div>
<div class="line">            start_point.data(), spacing.data(), max_nodes,</div>
<div class="line">            up_step, up_slope,</div>
<div class="line">            down_step, down_slope,</div>
<div class="line">            maximum_step_connection,</div>
<div class="line">            core_count,</div>
<div class="line">            &amp;graph);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">            <span class="comment">// Error!</span></div>
<div class="line">            std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at GenerateGraph, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">        }</div>
</div><!-- fragment --><p ><b>Very important!</b> <b>Compress the graph</b> after generating a graph or adding edges.<br  />
 </p><div class="fragment"><div class="line">        <span class="comment">// Always compress the graph after generating a graph/adding new edges</span></div>
<div class="line">        status = <a class="code hl_function" href="a00458.html#gab7ecc1be5c746ed3f99ab7494316c65d">Compress</a>(graph);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">            <span class="comment">// Error!</span></div>
<div class="line">            std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at Compress, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">        }</div>
</div><!-- fragment --><p >To output the graph to the console, we must <b>retrieve its nodes</b>.<br  />
 </p><div class="fragment"><div class="line">        <span class="comment">// Get all nodes from graph first (the container of nodes)</span></div>
<div class="line">        <span class="comment">// The address of the local variable node_vector will be passed to GetAllNodesFromGraph;</span></div>
<div class="line">        <span class="comment">// it will be dereferenced inside that function and assigned memory via operator new.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// We will have to call DestroyNodes on node_vector to properly release this memory.</span></div>
<div class="line">        <span class="comment">// node_vector_data points to the internal buffer that resides within *(node_vector).</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// When we call DestroyNodes, node_vector_data&#39;s memory will also be released.</span></div>
<div class="line">        std::vector&lt;HF::SpatialStructures::Node&gt;* node_vector = <span class="keyword">nullptr</span>;</div>
<div class="line">        <a class="code hl_struct" href="a02071.html">HF::SpatialStructures::Node</a>* node_vector_data = <span class="keyword">nullptr</span>;</div>
<div class="line"> </div>
<div class="line">        status = <a class="code hl_function" href="a00458.html#ga0cc5b82caab046c65a201e4e7be5e9d4">GetAllNodesFromGraph</a>(graph, &amp;node_vector, &amp;node_vector_data);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">            <span class="comment">// Error!</span></div>
<div class="line">            std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at GetAllNodesFromGraph, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Get size of node vector</span></div>
<div class="line">        <span class="keywordtype">int</span> node_vector_size = -1;</div>
<div class="line">        status = <a class="code hl_function" href="a00458.html#gac17c1fc05e6bf6900bac8689b7619bfb">GetSizeOfNodeVector</a>(node_vector, &amp;node_vector_size);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">            <span class="comment">// Error!</span></div>
<div class="line">            std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at GetSizeOfNodeVector, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Print number of nodes in the graph</span></div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Node count: &quot;</span> &lt;&lt; node_vector_size &lt;&lt; std::endl;</div>
</div><!-- fragment --><p >We are now ready to <b>output</b> the generated graph to the <b>console</b>.<br  />
 </p><div class="fragment"><div class="line">        <span class="comment">// Output 3 of the nodes within *node_vector.</span></div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span>;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; i++) {</div>
<div class="line">            <span class="keyword">auto</span> n = (*node_vector)[i];</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;(&quot;</span></div>
<div class="line">                &lt;&lt; n.x &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; n.y &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; n.z &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line">                &lt;&lt; n.id &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (i &lt; 2) {</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; std::endl;</div>
</div><!-- fragment --><p >When we are finished, we must destroy <b>node_vector</b> and <b>graph</b>.<br  />
 </p><div class="fragment"><div class="line"> </div>
<div class="line"> </div>
<div class="line">        <span class="comment">// destroy vector&lt;Node&gt;</span></div>
<div class="line">        status = <a class="code hl_function" href="a00458.html#ga87e9b9ecfc5293712d75f3cb8c992c77">DestroyNodes</a>(node_vector);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">            <span class="comment">// Error!</span></div>
<div class="line">            std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at DestroyNodes, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// destroy graph</span></div>
<div class="line">        status = <a class="code hl_function" href="a00458.html#ga645abacd11e1fa535f953344aaa77727">DestroyGraph</a>(graph);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (status != 1) {</div>
<div class="line">            std::cerr &lt;&lt; <span class="stringliteral">&quot;Error at DestroyGraph, code: &quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div>
<div class="line">        }</div>
</div><!-- fragment --><p >From here, please review the example at <a class="el" href="a00457.html#raytracer_teardown">Raytracer teardown</a> for instructions<br  />
 on how to free the remainder of the resources used by the graph &ndash;<br  />
 which are the (vector&lt;<a class="el" href="a01351.html">HF::Geometry::MeshInfo</a>&gt; *) and (<a class="el" href="">HF::Raytracer::EmbreeRayTracer</a> *) instances.</p>
<p ><br  />
 <code>&gt;&gt;&gt; LoadOBJ loaded mesh successfully into loaded_obj at address 000002468EEBBEB0, code: 1</code><br  />
<code>&gt;&gt;&gt; CreateRaytracer created EmbreeRayTracer successfully into bvh at address 00000246849C59B0, code: 1</code><br  />
<code>&gt;&gt;&gt; Node count: 594</code><br  />
<code>&gt;&gt;&gt; [(-1, -6, 0, 0) (-1.5, -6.5, -0, 1) (-1.5, -6, -0, 2)]</code><br  />
</p>

<p class="definition">Definition at line <a class="el" href="a00404_source.html#l00062">62</a> of file <a class="el" href="a00404_source.html">analysis_C.cpp</a>.</p>

<p class="reference">References <a class="el" href="a00008_source.html#l00467">HF::GraphGenerator::GraphGenerator::BuildNetwork()</a>, <a class="el" href="a00404_source.html#l00015">MapToVector()</a>, <a class="el" href="a01551.html#aa70347b8a33b57c6f0a72d6eca4248d7">HF::SpatialStructures::Graph::Nodes()</a>, and <a class="el" href="a00176_source.html#l00032">HF::Exceptions::OK</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00454_gab9f58e3ecc686fa9bc34519b0faed734_cgraph.svg" width="1950" height="959"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
